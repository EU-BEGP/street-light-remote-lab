<!-- Copyright (c) Universidad Privada Boliviana (UPB) - EU-BEGP -->
<!-- MIT License - See LICENSE file in the root directory -->
<!-- Boris Pedraza, Alex Villazon, Omar Ormachea -->

<app-spinner id="grid-spinner" [showSpinner]="loadingWs"></app-spinner>
<div class="activity-dashboard">
  <div class="dashboard-row first-row">
    <app-light-information></app-light-information>
    <app-object-control (robotCommand)="sendRobotCommand()"></app-object-control>
    <app-robot-camera></app-robot-camera>
  </div>

  <div class="dashboard-row second-row">
    <app-intensity-matrix 
      [gridDimension]="gridDimension" 
      [grids]="capturedGrids"
      [selectedGridIndex]="selectedGridIndex" 
      [currentMessage]="currentMessage">
    </app-intensity-matrix>
    <app-grid-selector 
      [(selectedGridIndex)]="selectedGridIndex" 
      [capturedGrids]="capturedGrids">
    </app-grid-selector>
    <app-intensity-chart 
      [gridDimension]="gridDimension" 
      [grids]="capturedGrids" 
      [selectedGridIndex]="selectedGridIndex"
      [currentMessage]="currentMessage">
    </app-intensity-chart>
  </div>

  <div class="dashboard-row third-row">
    <div class="simulation-container" *ngIf="capturedGrids.length > 0">
      <app-light-simulation 
        [gridDimension]="gridDimension" 
        [grids]="capturedGrids">
      </app-light-simulation>
    </div>
  </div>
</div>
