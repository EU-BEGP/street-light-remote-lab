<!-- Copyright (c) Universidad Privada Boliviana (UPB) - EU-BEGP -->
<!-- MIT License - See LICENSE file in the root directory -->
<!-- Boris Pedraza, Alex Villazon, Omar Ormachea -->

<div class="parameter-selector-card">
  <div class="parameter-selector-header">
    <h3 class="parameter-selector-title">
      <mat-icon>show_chart</mat-icon>
      Parameter Selector
    </h3>
  </div>

  <div class="parameter-selector-wrapper">
    <div *ngIf="isInitialLoad" class="loading">Loading parameters...</div>

    <div *ngIf="parameters && !isInitialLoad" class="parameter-fields">
      <!-- PWM Dropdown -->
      <div class="parameter-field">
        <label>PWM Intensity (%)</label>
        <select [(ngModel)]="selectedPWM" (change)="onParameterSelected()" class="form-control">
          <option value="" disabled selected>Select PWM</option>
          <option *ngFor="let pwm of parameters.pwm_options" [value]="pwm">
            {{pwm}}%
          </option>
        </select>
      </div>

      <!-- Height Dropdown -->
      <div class="parameter-field">
        <label>Height (m)</label>
        <select [(ngModel)]="selectedHeight" (change)="onParameterSelected()" class="form-control">
          <option value="" disabled selected>Select Height</option>
          <option *ngFor="let height of parameters.height_options" [value]="height">
            {{height}}m
          </option>
        </select>
      </div>
    </div>
  </div>
</div>
